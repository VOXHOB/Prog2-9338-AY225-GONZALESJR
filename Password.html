<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prelim Lab Work 2</title>
</head>
<body>

<h2>Login</h2>

<form id="loginForm">
    <label>Username:</label><br>
    <input type="text" id="username" required><br><br>

    <label>Password:</label><br>
    <input type="password" id="password" required><br><br>

    <button type="submit">Log In</button>
</form>

<p id="message"></p>
<p id="timestamp"></p>

<script>
    const correctUsername = "admin";
    const correctPassword = "1234";

    document.getElementById("loginForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;

        if (username === correctUsername && password === correctPassword) {
            const now = new Date();
            const timestamp = now.toLocaleString();

            document.getElementById("message").textContent =
                "Welcome, " + username + "!";
            document.getElementById("timestamp").textContent =
                "Login Time: " + timestamp;

            generateAttendanceFile(username, timestamp);
        } else {
            document.getElementById("message").textContent =
                "Incorrect username or password!";
            playBeep();
        }
    });

    function playBeep() {
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioCtx.createOscillator();
        oscillator.type = "sine";
        oscillator.frequency.setValueAtTime(1000, audioCtx.currentTime);
        oscillator.connect(audioCtx.destination);
        oscillator.start();
        setTimeout(() => oscillator.stop(), 200);
    }

    function generateAttendanceFile(username, timestamp) {
        const content =
            "Attendance Summary\n" +
            "-------------------\n" +
            "Username: " + username + "\n" +
            "Timestamp: " + timestamp + "\n";

        const blob = new Blob([content], { type: "text/plain" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "attendance_summary.txt";
        link.click();
    }
</script>

</body>
</html>

